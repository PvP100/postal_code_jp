language: dart

sudo: false

dart:
  - stable

dart_task:
  - test
  - dartanalyzer: --fatal-warnings .
  - dartfmt

script:
  - pub global activate pubspec_version
  - if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then bin/update; fi

cache:
  directories:
    - $HOME/.pub-cache